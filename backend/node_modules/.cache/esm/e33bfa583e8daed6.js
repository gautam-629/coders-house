let TokenServices;_3e8‍.x([["default",()=>_3e8‍.o]]);_3e8‍.w("../Services/tokenServices",[["default",["TokenServices"],function(v){TokenServices=v}]]);

async function authMiddleware(req,res,next){
     try {
        const {accessToken}=req.cookies;
        
        if(!accessToken){
            throw new Error();
        }
        const userData=await TokenServices.verifyAccessToken(accessToken);
       
          if(!userData){
            throw new Error();
          }
        req.user=userData;
        next();
     } catch (error) {
        res.status(401).json({message:'Invalid Token'})
     }
}
_3e8‍.d(authMiddleware);